[
  "precision mediump float;",

  "attribute vec2 positions1;",
  "attribute vec2 positions2;",
  "attribute vec2 positions3;",
  "attribute vec2 positions4;",
  "attribute vec2 positions5;",
  "attribute vec2 positions6;",
  "attribute vec2 positions7;",
  "attribute vec2 positions8;",

  "uniform mat3 translationMatrix;",
  "uniform mat3 projectionMatrix;",

  "uniform float phase;",
  "uniform float phase2;",
  "uniform float phase3;",
  "uniform float phase4;",
  "uniform float normalX;",

  "varying vec2 vUvs;",

  "void main() {",
  "  vec2 aVertices = mix(positions1, positions2, phase);",
  "  vec2 bVertices = mix(positions3, positions4, phase);",
  "  vec2 cVertices = mix(aVertices, bVertices, phase2);",

  "  vec2 dVertices = mix(positions5, positions6, phase);",
  "  vec2 eVertices = mix(positions7, positions8, phase);",
  "  vec2 fVertices = mix(dVertices, eVertices, phase3);",

  "  vec2 gVertices = mix(cVertices, fVertices, phase4);",

  "  vec2 result = (projectionMatrix * translationMatrix * vec3(gVertices, 1.0)).xy;",

  "  vUvs = gVertices / 1024.0;",

  "  if (normalX < 0.0) {",
  "    result.x = -result.x;",
  "    vUvs.x = 1.0 - vUvs.x;",
  "  }",

  "  gl_Position = vec4(result, 0, 1);",
  "}"
]