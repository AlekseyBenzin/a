[
  "precision mediump float;",

  "attribute vec2 positions1;",
  "attribute vec2 positions2;",
  "attribute vec2 positions3;",
  "attribute vec2 positions4;",

  "uniform mat3 translationMatrix;",
  "uniform mat3 projectionMatrix;",

  "uniform float phase;",
  "uniform float phase2;",
  "uniform float normalX;",

  "void main() {",
  "  vec2 aVertices = mix(positions1, positions2, phase);",
  "  vec2 bVertices = mix(positions3, positions4, phase);",
  "  vec2 cVertices = mix(aVertices, bVertices, phase2);",

  "  vec2 result = (projectionMatrix * translationMatrix * vec3(cVertices, 1.0)).xy;",

  "  if (normalX < 0.0) {",
  "    result.x = -result.x;",
  "  }",

  "  gl_Position = vec4(result, 0, 1);",
  "}"
]