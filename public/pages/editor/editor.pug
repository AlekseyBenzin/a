doctype html
head
  title The Fluffies: a Pony
  
  include ../meta.pug

  meta(name="application-name" content="The Fluffies: Create the Pony")
  
  link(rel="icon" href="../../img/ponies.ico")
  link(rel="stylesheet" href="../../css/editor.css")

  script(src="https://code.jquery.com/jquery-3.3.1.min.js"
    integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous")
  script(src="https://unpkg.com/polymorph-js/dist/polymorph.min.js")
  script(src="https://cdn.jsdelivr.net/npm/animejs@3/lib/anime.min.js")
  script(src="https://cdnjs.cloudflare.com/ajax/libs/jquery-mousewheel/3.1.13/jquery.mousewheel.min.js")
  //script(src="https://cdn.jsdelivr.net/npm/vue@2.6.10/dist/vue.js")
body
  include pony-base.pug

  #vignette
  #menu-social
  #menu-screener
    svg#takePhoto(viewBox="0 0 440 440" preserveAspectRatio="xMidYMin meet")
      path(fill="#8f4" d="M414 24a79 79 0 0 0-58-24H82C60 0 40 8 24 24A79 79 0 0 0 0 82v274c0 23 8 42 24 58s36 25 58 25h274c23 0 42-9 58-25s25-35 25-58V82c0-22-9-42-25-58zm-43 135L196 334c-4 4-8 6-13 6s-10-2-13-6L68 232c-4-4-6-8-6-13s2-9 6-13l29-29c3-3 8-5 13-5s9 2 12 5l61 61 133-134c4-3 8-5 13-5s9 2 13 5l29 29c3 4 5 8 5 13s-2 9-5 13z")

    #imageType(style="border-radius: 0 1vmin 1vmin 0")
      input#isSVG(type="radio" name="radios" checked)
      #checkmark(style="border-radius: 0 1vmin 1vmin 0") svg
      
    #imageType
      input#isPNG(type="radio" name="radios")
      #checkmark png
      
    #imageType(style="border-radius: 1vmin 0 0 1vmin")
      input#isJPEG(type="radio" name="radios")
      #checkmark(style="border-radius: 1vmin 0 0 1vmin; padding: 7% 11%; width: 82%") jpeg

    p.header resolution #[span px]
    input.scr(type="number" min="1" style="margin: 3.5vmin 0 0 2vmin")
    p.middle x
    input.scr(type="number" min="1" style="margin: 3.5vmin 2vmin 0 0")

  #menu
    svg(width="30vmax" height="100%" viewBox="0 0 225 800" preserveAspectRatio="none")
      circle#menu-back.transition(cx="76.5%" cy="94.25%" r="0%" fill="#222" 
        style="mask: url(#mask_Menu); pointer-events: all")
      defs
        mask#mask_Menu
          path(d="M10 0c0 255 0 545 0 800h625V0h-625z" fill="#fff")

    // Avatar editor panel bars
    #wrapper
      include menu/bars.pug
    
    #color_pallete
      p color picker

      svg#close(viewBox="0 0 42 42")
        path(fill="#f35" d="M28 21L40 9a5 5 0 1 0-7-8L21 14 9 1a5 5 0 0 0-8 8l13 12L1 33a5 5 0 1 0 8 7l12-12 12 12a5 5 0 0 0 7 0c2-2 2-5 0-7L28 21z")

      p.h mane
      #body
        svg(viewBox="-10 -10 220 220" preserveAspectRatio="xMidYMin meet")
          g#picker(fill="none" stroke-width="15" transform="translate(100,100)" style="pointer-events: all")
            path(d="M 0,-100 A 100,100 0 0,1 86.6,-50"    stroke="url(#redyel)")
            path(d="M 86.6,-50 A 100,100 0 0,1 86.6,50"   stroke="url(#yelgre)")
            path(d="M 86.6,50 A 100,100 0 0,1 0,100"      stroke="url(#grecya)")
            path(d="M 0,100 A 100,100 0 0,1 -86.6,50"     stroke="url(#cyablu)")
            path(d="M -86.6,50 A 100,100 0 0,1 -86.6,-50" stroke="url(#blumag)")
            path(d="M -86.6,-50 A 100,100 0 0,1 0,-100"   stroke="url(#magred)")

          defs
            linearGradient#redyel(gradientUnits="objectBoundingBox" x1="0" y1="0" x2="1" y2="1")
                stop(offset="0%" stop-color="#ff0000")
                stop(offset="100%" stop-color="#ffff00")

            linearGradient#yelgre(gradientUnits="objectBoundingBox" x1="0" y1="0" x2="0" y2="1")
                stop(offset="0%" stop-color="#ffff00")
                stop(offset="100%" stop-color="#00ff00")

            linearGradient#grecya(gradientUnits="objectBoundingBox" x1="1" y1="0" x2="0" y2="1")
                stop(offset="0%" stop-color="#00ff00")
                stop(offset="100%" stop-color="#00ffff")

            linearGradient#cyablu(gradientUnits="objectBoundingBox" x1="1" y1="1" x2="0" y2="0")
                stop(offset="0%" stop-color="#00ffff")
                stop(offset="100%" stop-color="#0000ff")

            linearGradient#blumag(gradientUnits="objectBoundingBox" x1="0" y1="1" x2="0" y2="0")
                stop(offset="0%" stop-color="#0000ff")
                stop(offset="100%" stop-color="#ff00ff")

            linearGradient#magred(gradientUnits="objectBoundingBox" x1="0" y1="1" x2="1" y2="0")
                stop(offset="0%" stop-color="#ff00ff")
                stop(offset="100%" stop-color="#ff0000")

        #box
          svg(viewBox="0 0 1 1" preserveAspectRatio="xMidYMin meet")
            rect(width="1" height="1" fill="url(#boxSatur)")
            rect(width="1" height="1" fill="url(#boxValue)")
            defs
              linearGradient#boxValue(gradientUnits="objectBoundingBox" x1="0" y1="1" x2="0" y2="0")
                stop(offset="0%" stop-color="#000")
                stop(offset="100%" stop-color="#000" stop-opacity="0")
              
              linearGradient#boxSatur(gradientUnits="objectBoundingBox" x1="1" y1="0" x2="0" y2="0")
                stop#color(offset="0%" stop-color="#f00")
                stop(offset="100%" stop-color="#fff")

          svg(viewBox="-8 -8 16 16")#color_box
            circle(r="10" stroke="#000" stroke-width="5" stroke-opacity=0.75 fill-opacity=0
              style="stroke: rgb(0, 0, 0); transition: all 0.25s ease-in-out 0s")

        svg(viewBox="-8 -8 16 16")#color_circle
          circle(r="10" stroke="#000" stroke-width="5" stroke-opacity=0.75 fill-opacity=0)

        #color

    // Menu of Models - list

    include menu/models_menu.pug

    #menu-circle
      #settings
        svg(viewBox="-50 -40 350 350" style="transform: translate(50%, -50%) rotate(102.5deg)")
          path(fill="#f66" d="M268 119.5c-.5-3.8-5-6.7-8.7-6.7a29.9 29.9 0 0 1-27.8-18.4 30 30 0 0 1 7.5-33.2c2.9-2.6 3.2-7 .8-10.1a133 133 0 0 0-21.3-21.5 7.5 7.5 0 0 0-10.2.8 31 31 0 0 1-33.5 7.5 29.8 29.8 0 0 1-18.2-29.2c.3-4-2.6-7.3-6.6-7.8C140-.3 130-.3 119.8.9a7.5 7.5 0 0 0-6.7 7.6c.5 12.5-7 24-18.4 28.7a31 31 0 0 1-33.2-7.6 7.5 7.5 0 0 0-10.2-.9c-8 6.4-15.4 13.6-21.7 21.5-2.5 3.1-2.1 7.6.8 10.3 9.3 8.4 12.4 21.9 7.5 33.5a31 31 0 0 1-29.2 18.2 7.3 7.3 0 0 0-7.8 6.5 134.6 134.6 0 0 0 0 30.6c.4 3.8 5 6.6 8.8 6.6 11.7-.3 22.9 7 27.6 18.4a29.9 29.9 0 0 1-7.5 33.3 7.5 7.5 0 0 0-.8 10c6.2 8 13.4 15.3 21.2 21.6 3.1 2.5 7.6 2.1 10.3-.8a31 31 0 0 1 33.5-7.6A29.8 29.8 0 0 1 112 260c-.2 4 2.7 7.4 6.6 7.9a133.6 133.6 0 0 0 30.3 0 7.5 7.5 0 0 0 6.6-7.6c-.4-12.5 7-24 18.4-28.7a31 31 0 0 1 33.3 7.6c2.6 2.9 7 3.2 10.1.8 8-6.3 15.4-13.5 21.8-21.5 2.5-3 2.1-7.5-.8-10.2a29.8 29.8 0 0 1 20-51.7h1.6c3.8.3 7.4-2.6 7.9-6.6 1.1-10 1.2-20.4 0-30.5zm-133.4 60a44.9 44.9 0 1 1 0-89.8 44.9 44.9 0 0 1 0 89.8z")

      #capture
        svg(viewBox="-108 -58 716 716" style="transform: translate(50%, -50%) rotate(63.33deg)")
          path(fill="#eee" d="M527 131a70 70 0 0 0-52-21h-64l-14-39c-4-10-11-18-20-24-10-7-20-10-30-10H201c-10 0-20 3-30 10-9 6-16 14-19 24l-15 39H73c-20 0-37 7-52 21a70 70 0 0 0-21 52v256c0 20 7 37 21 51 15 14 32 22 52 22h402c20 0 37-8 52-22 14-14 21-31 21-51V183c0-20-7-38-21-52zM364 401c-25 25-55 38-90 38s-65-13-90-38-38-55-38-90c0-36 13-66 38-91s55-37 90-37 65 12 90 37 38 55 38 91c0 35-13 65-38 90z")
          path(fill="#eee" d="M274 228c-23 0-42 8-58 25a79 79 0 0 0-24 58c0 22 8 42 24 58s35 24 58 24 42-8 58-24 24-36 24-58c0-23-8-42-24-58a79 79 0 0 0-58-25z")

      #menu-avatar
        svg(viewBox="-4 -12 136 136" style="transform: translate(50%, -50%) rotate(-12.5deg)")
          path(fill="#eee" d="M64 106c-6 0-12-1-18-4-2 13-8 20-8 20 28 14 52 1 52 1s-6-8-8-21c-6 3-12 4-18 4z")
          path(fill="#eee" d="M102 47c2-13 0-32-9-34-7-2-11 6-12 13 9 4 17 11 21 21z")
          path(fill="#eee" d="M26 47c-1-13 0-32 9-34 7-2 11 6 12 13-9 4-17 11-21 21z")
          path(fill="#eee" d="M29,64a35,35 0 1,0 70,0a35,35 0 1,0 -70,0")

      #animate
        svg(viewBox="-88 -56 672 672" style="transform: translate(50%, -50%) rotate(26.66deg)")
          path(fill="#f66" d="M71 332v165c0 8 7 15 15 15h372c8 0 15-7 15-15V332H71zM330 223l-70 78h75l70-78zM458 223h-12l-70 78h97v-63c0-8-7-15-15-15zM216 223l-70 78h73l70-78zM243 66l-66 29-41 128h-32l36-112-92 41c-7 4-11 13-7 20l30 69v60h35l70-78h-19l41-18 45-139zM280 49l-45 139 65-29 45-139zM439 81L407 9c-3-8-12-11-20-8l-5 3-45 139 95-42a15 15 0 0 0 7-20z")

    #menu-button
      svg(width="100%" height="100%" viewBox="0 0 128 128" preserveAspectRatio="none")
        path#button.transition(d="M128 64A64 64 0 1 1 0 64a64 64 0 0 1 128 0z" fill="#fff" filter="url(#mask_Shadow)")
        defs
          filter#mask_Shadow(x="-50%" y="-50%" width="200%" height="200%")
            feOffset(result="offOut" in="SourceAlpha" dx="0" dy="0")
            feColorMatrix(result="matrixOut" in="offOut" type="matrix"
              values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.5 0")
            feGaussianBlur(result="blurOut" in="matrixOut" stdDeviation="10")
            feBlend(in="SourceGraphic" in2="blurOut" mode="normal")
      
      svg#bars(viewBox="-8.5 -8.5 40 40" style="transition: transform .2s ease, opacity .2s ease")
        path(fill="#333" d="M24 3c0-.6-.4-1-1-1H1c-.6 0-1 .4-1 1v2c0 .6.4 1 1 1h22c.6 0 1-.4 1-1V3zM24 11c0-.6-.4-1-1-1H1c-.6 0-1 .4-1 1v2c0 .6.4 1 1 1h22c.6 0 1-.4 1-1v-2zM24 19c0-.6-.4-1-1-1H1c-.6 0-1 .4-1 1v2c0 .6.4 1 1 1h22c.6 0 1-.4 1-1v-2z")
      
      svg#close(viewBox="-9 -9.5 40 40" style="transition: transform .2s ease, opacity .2s ease; transform: scale(0)")
        path(fill="#333" d="M14.1 11.3a.5.5 0 0 1 0-.7l7.5-7.5c.2-.2.3-.5.3-.7s-.1-.5-.3-.7L20.2.3a1 1 0 0 0-.7-.3 1 1 0 0 0-.7.3l-7.5 7.5c-.2.2-.5.2-.7 0L3.1.3C2.9.1 2.6 0 2.4 0s-.5.1-.7.3L.3 1.7c-.2.2-.3.5-.3.7s.1.5.3.7l7.5 7.5c.2.2.2.5 0 .7L.3 18.8c-.2.2-.3.5-.3.7s.1.5.3.7l1.4 1.4c.2.2.5.3.7.3s.5-.1.7-.3l7.5-7.5c.2-.2.5-.2.7 0l7.5 7.5c.2.2.5.3.7.3s.5-.1.7-.3l1.4-1.4c.2-.2.3-.5.3-.7s-.1-.5-.3-.7l-7.5-7.5z")
  
  p#version version #[span banana]

  script(type="text/javascript" src="../../js/editor.js" defer)